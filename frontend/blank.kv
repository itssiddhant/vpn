<BlankScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White color to ensure the image is not tinted
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'assets/world.jpg'

    MDBoxLayout:
        orientation: 'vertical'

        MDBoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.92

            MDBottomNavigation:
                panel_color: 0, 0, 0, 0  # Semi-transparent black for better visibility

                MDBottomNavigationItem:
                    name: 'home'
                    text: 'Home'
                    icon: 'home'

                    MDFloatLayout:
                        MDCard:
                            size_hint: None, None
                            size: root.width * 0.9, root.height * 0.7
                            pos_hint: {'center_x': .5, 'center_y': .5}
                            elevation: 2  
                            padding: 20
                            spacing: 30
                            orientation: 'vertical'
                            md_bg_color: 0, 0, 0, 0.2  

                            MDLabel:
                                text: 'VPN Control'
                                halign: 'center'
                                font_style: 'H5'
                                size_hint_y: None
                                height: self.texture_size[1]
                                padding_y: 15
                                theme_text_color: "Custom"
                                text_color: 1, 1, 1, 1  # White text for better visibility

                            MDBoxLayout:
                                orientation: 'vertical'
                                size_hint_y: None
                                height: root.height * 0.4
                                spacing: 20
                                padding: [0, 10, 0, 10]
                                md_bg_color: 0, 0, 0, 0  # Fully transparent

                                MDRaisedButton:
                                    id: country_dropdown
                                    text: 'Select Country'
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    on_release: app.show_country_menu(self)
                                    size_hint: None, None
                                    size: root.width * 0.15, root.width * 0.05
                                    md_bg_color: 0, 0.5, 0, 0.8  # Slightly transparent
                                    theme_text_color: "Custom"
                                    text_color: 1, 1, 1, 1
                                
                                MDFloatingActionButton:
                                    id: toggle_button
                                    icon: 'power'
                                    theme_icon_color: "Custom"
                                    icon_color: 1, 1, 1, 1
                                    md_bg_color: 0.7, 0, 0, 0.8  # Slightly transparent
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    size_hint: None, None
                                    size: root.width * 0.15, root.width * 0.15
                                    on_release: root.toggle_vpn() 

                            MDLabel:
                                id: vpn_status
                                text: 'VPN is OFF'
                                halign: 'center'
                                theme_text_color: "Custom"
                                text_color: 1, 0, 0, 1  # Bright red color when OFF
                                font_style: 'H6'

                MDBottomNavigationItem:
                    name: 'profile'
                    text: 'Profile'
                    icon: 'account'

                    MDFloatLayout:
                        MDBoxLayout:
                            orientation: 'vertical'
                            size_hint: None, None
                            size: min(root.width - dp(40), dp(340)), self.minimum_height
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                            spacing: dp(20)
                            padding: dp(20)

                            canvas.before:
                                Color:
                                    rgba: 0, 0, 0, 1
                                RoundedRectangle:
                                    pos: self.pos
                                    size: self.size
                                    radius: [15, 15, 15, 15]
                                Color:
                                    rgba: 0, 0.5, 0, 0.3  # More transparent border
                                Line:
                                    rounded_rectangle: (self.x, self.y, self.width, self.height, 15)
                                    width: 2  # Border width

                            MDLabel:
                                text: 'Profile'
                                font_style: 'H4'
                                halign: 'center'
                                theme_text_color: "Custom"
                                text_color: 1, 1, 1, 1  # White text for better visibility
                                size_hint_y: None
                                height: self.texture_size[1]
                                padding_y: dp(15)

                            MDLabel:
                                id: profile_username
                                text: app.user_email  # Display the logged-in user's email or "Guest"
                                halign: 'center'
                                theme_text_color: "Custom"
                                text_color: 1, 1, 1, 1  # White text for better visibility
                                font_style: 'H6'
                                size_hint_y: None
                                height: self.texture_size[1]

                            MDLabel:
                                text: 'Pending Requests'
                                font_style: 'H6'
                                halign: 'center'
                                theme_text_color: "Custom"
                                text_color: 1, 1, 1, 1  # White text for better visibility
                                size_hint_y: None
                                height: self.texture_size[1]
                                padding_y: dp(10)

                            ScrollView:
                                size_hint_y: None
                                height: dp(150)  # Adjust the height as needed
                                do_scroll_x: False
                                do_scroll_y: True

                                MDList:
                                    id: pending_requests_list
                                    spacing: dp(10)

                                    MDCard:
                                        size_hint_y: None
                                        height: dp(60)
                                        md_bg_color: 0.2, 0.2, 0.2, 0.3  # More transparent
                                        padding: dp(10)

                                        MDBoxLayout:
                                            orientation: 'horizontal'
                                            spacing: dp(10)

                                            MDLabel:
                                                text: 'Request 1'
                                                theme_text_color: "Custom"
                                                text_color: 1, 1, 1, 1
                                                size_hint_x: 0.7

                                            MDRaisedButton:
                                                text: 'Approve'
                                                size_hint_x: 0.3
                                                md_bg_color: 0, 0.5, 0, 0.8  # Slightly transparent

                                    MDCard:
                                        size_hint_y: None
                                        height: dp(60)
                                        md_bg_color: 0.2, 0.2, 0.2, 0.3  # More transparent
                                        padding: dp(10)

                                        MDBoxLayout:
                                            orientation: 'horizontal'
                                            spacing: dp(10)

                                            MDLabel:
                                                text: 'Request 2'
                                                theme_text_color: "Custom"
                                                text_color: 1, 1, 1, 1
                                                size_hint_x: 0.7

                                            MDRaisedButton:
                                                text: 'Approve'
                                                size_hint_x: 0.3
                                                md_bg_color: 0, 0.5, 0, 0.8  # Slightly transparent

                            Widget:
                                size_hint_y: None
                                height: dp(30)  # Increased space before the logout button

                            MDRaisedButton:
                                id: logout_button
                                text: 'Log-Out'
                                size_hint_x: 1
                                height: dp(50)
                                md_bg_color: 0, 0.5, 0, 0.8  # Slightly transparent
                                on_release: app.logout_button()